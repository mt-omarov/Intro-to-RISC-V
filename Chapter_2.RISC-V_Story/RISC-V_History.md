# История RISC-V
## Как все начиналось
История RISC-V начинается в лаборатории параллельных вычислений Калифорнийского университета в Беркли. 
Чтобы создать основу, мы сначала обсудим важность открытого исходного кода и открытых стандартов, поскольку они непосредственно 
относятся к процессу разработки и открытому лицензированию ISA RISC-V, а также расскажем небольшую историю обработки RISC и других открытых (или полуоткрытых) ISA.

## Важность открытого кода и открытых стандартов
Технологии не существуют в изоляции, если только речь не идет об исключительно простых, не связанных между собой устройствах, 
таких как фонарик - и даже там мы полагаемся на международные стандарты, чтобы соединить батарейку с лампочкой. 
Поскольку наш технический мир становится все более сложным и более взаимосвязанным, глобальные стандарты обеспечивают обществу 
возможность реализовать глубокие преимущества функциональной совместимости от изобретателя до потребителя.

Стандарты стимулируют инновации на уровне базовой платформы - от стандартной резьбы на винте до резьбы, соединяющей кремний в микропроцессоре. 
[Установление добровольных стандартов в машиностроении](https://www.iec.ch/history/how-why-iec-was-started) началось более века назад. В конце 1980-х - 1990-х годов [Тим Бернерс-Ли](https://en.wikipedia.org/wiki/Tim_Berners-Lee) возглавил революцию 
по стандартизации протоколов, которые мы используем в Интернете (URL, HTML, HTTP, W3C), что легко можно назвать самым крупным достижением в области 
технологических утилит в современной истории. Существует множество примеров, которые лежат в основе технологий, которыми мы пользуемся каждый день.

Прогресс в стандартизации программного и аппаратного обеспечения путем глобального сотрудничества и консенсуса, а также разработка и 
предоставление программного и аппаратного обеспечения с открытым исходным кодом ускорили технический прогресс в беспрецедентном глобальном масштабе. 
Предоставление RISC-V открытому сообществу, как для стандартизации, так и для постоянного совершенствования посредством открытого сотрудничества, 
лежит в основе RISC-V International. Без сотрудничества и открытого доступа к RISC-V ISA и открытым расширениям сообщество рискует получить фрагментацию, 
развилки и создание множества стандартов. Такая множественность снижает стратегическую ценность и долговечность архитектуры, поскольку поставщики 
технологий полагаются на глобальные стандарты для развития партнерских отношений и цепочек поставок, а также для участия в глобальных рынках своих 
продуктов и услуг.

Будучи архитектурой набора команд, RISC-V сама по себе не является "открытым исходным кодом" как программное обеспечение, поскольку ISA не состоит из исходного кода. Тем не менее, это открытая спецификация, и она выпущена под лицензией Creative Commons. 
Другие компоненты в рамках RISC-V, такие как программное обеспечение 
и тесты соответствия, используют соответствующие лицензии (например, BSD и MIT), которые сохраняют первоначальное намерение 
сделать RISC-V доступным для всех.

## История RISC и открытых ISA
[Компьютеры с сокращенным набором команд](https://ru.wikipedia.org/wiki/RISC) - RISC - имеют долгую и разнообразную историю, 
которая начинается в Калифорнийском университете в Беркли (UCB). Во многом история RISC связана с историей процессоров MIPS, 
которая началась почти в то же время в Стэнфорде в 1980-х годах. Обе процессорные архитектуры по-разному добились большого коммерческого успеха, 
хотя архитектура RISC, вероятно, более узнаваема по некоторым очень популярным разработкам, включая линейку SPARC от Sun Microsystems, линейку Alpha от DEC, 
процессоры i860 и i960 от Intel и вездесущие процессоры ARM, которыми сегодня оснащены миллиарды устройств от многих производителей кристаллов. 
RISC-V - это последняя итерация этой архитектуры набора инструкций.

Многие RISC, MIPS и другие конструкции были "открытыми" в той или иной степени. 
В 2005 году компания Sun Microsystems открыла архитектуру SPARC, создав проект OpenSPARC под лицензией GNU Public License (GPL). 
Проект OpenRISC предоставляет 32- и 64-разрядные ядра через сообщество OpenCores под лицензией Lesser GNU Public License (LGPL), 
которая является несколько менее ограничительной, чем GPL. Архитектура MIPS, принадлежащая Wave Computing, предоставлялась по лицензии 
"открытого использования" в рамках пилотной программы, которая была закрыта в 2019 году. Даже ARM, которая ранее показывала свою архитектуру 
только обладателям платных лицензий, теперь частично открыла свою архитектуру для изменений со стороны своих партнеров. 
Все эти усилия направлены на то, чтобы сбалансировать потребности и чаяния партнеров и заинтересованных сторон с реалиями рынка, 
международными законами об интеллектуальной собственности и историческим импульсом в отрасли, который неумолимо ведет к открытому исходному коду, 
открытым спецификациям и открытым стандартам.

Вывод заключается в том, что открытие архитектуры набора инструкций - это одновременно и очень ценная работа, и очень сложная задача - 
она требует сотрудничества между многими заинтересованными сторонами, защиты от патентных и других правовых нарушений, 
а также четкого пути к праву собственности для тех, кто в результате рассчитывает получить средства к существованию. 
RISC-V добилась огромного успеха благодаря своей приверженности полностью открытой архитектуре, защите, 
предусмотренной и согласованной всеми участниками в соглашении о членстве, внутренних правилах и полной, неуклонной приверженности сообществу.

## Происхождение RISC-V: Архитектурные исследования в универститете Беркли
Профессор Крсте Асанович и аспиранты Юнсуп Ли и Эндрю Ватерман начали разработку набора инструкций RISC-V в мае 2010 года в рамках 
[Лаборатории параллельных вычислений](https://parlab.eecs.berkeley.edu/) (Par Lab) в Калифорнийском университете в Беркли, директором которой был профессор Дэвид Паттерсон. 
Par Lab была пятилетним проектом по развитию параллельных вычислений, [финансируемым Intel и Microsoft](https://parlab.eecs.berkeley.edu/sponsors) 
в размере $10M в течение 5 лет, с 2008 по 2013 год. 
Он также получил финансирование от [нескольких других компаний и штата Калифорния](https://parlab.eecs.berkeley.edu/sponsors). 
Язык построения аппаратного обеспечения Chisel, который использовался для проектирования многих процессоров RISC-V, также был разработан в Par Lab. 
Подробнее о Par Lab можно узнать в книге [*"The Berkeley Par Lab: Прогресс на ландшафте параллельных вычислений"*](https://www.amazon.com/Berkeley-Par-Lab-Computing-Landscape-ebook/dp/B00EQM51I4?), 
книга Паттерсона, Гэннона и Вринна.

Хотя проект в целом не имел федерального финансирования, Юнсуп Ли и Эндрю Ватерман получили некоторое финансирование от проекта DARPA POEM photonics, 
который финансировал часть разработки реализации процессора (но не RISC-V ISA). 
Средства были направлены на [6.1 фундаментальные исследования](https://www.rand.org/content/dam/rand/pubs/monograph_reports/MR1194/MR1194.appb.pdf) 
через MIT в качестве основного контракта с [Международным институтом компьютерных наук](http://www.icsi.berkeley.edu/icsi/) в качестве субподряда.

Все проекты лаборатории Par Lab были с открытым исходным кодом по лицензии Berkeley Software Distribution (BSD), включая RISC-V и Chisel. 
Следующий отчет Par Lab является первой публикацией, в которой описывается набор 
инструкций RISC-V: 
[Waterman, A., Lee, Y., Patterson, D. A., and Asanović, K. (2011). The RISC-V Instruction Set Manual, Volume I: Base User-Level ISA (EECS-2011-62)](https://www2.eecs.berkeley.edu/Pubs/TechRpts/2011/EECS-2011-62.pdf).

Для RISC-V промышленные спонсоры лаборатории UC Berkeley ParLab предоставили начальное финансирование, 
которое было использовано для разработки RISC-V. Они не просили непосредственно RISC-V - их интересовали системы параллельной обработки данных.

Помимо этой первой публикации, основные вехи развития RISC-V включают первую запись на пленку чипа RISC-V в 28-нм FDSOI 
(предоставленного компанией [ST Microelectronics](https://www.st.com/content/st_com/en/about/st_company_information/who-we-are.html) из Швейцарии) 
в 2011 году, публикацию [статьи о преимуществах открытых наборов инструкций](https://www2.eecs.berkeley.edu/Pubs/TechRpts/2014/EECS-2014-146.pdf) в 2014 году, 
[первый семинар по RISC-V](https://live-risc-v.pantheonsite.io/proceedings/2015/01/1st-risc-v-workshop-bootcamp/), 
проведенный в январе 2015 года, и запуск Фонда [RISC-V Foundation](https://live-risc-v.pantheonsite.io/) в том же году с 36 [членами-основателями](https://riscv.org/membership/founding-members/).

Сама спецификация ISA, то есть кодировка набора инструкций, была выпущена под разрешительной лицензией (похожей на лицензию BSD), 
когда были опубликованы технические отчеты ISA, хотя сам текст технического отчета (выражение спецификации) был позже помещен под лицензию Creative Commons, 
чтобы его могли улучшать внешние авторы, включая RISC-V Foundation.

Ни в одном из этих проектов не было подано ни одного патента, связанного с RISC-V, поскольку сама по себе ISA RISC-V не представляет никакой новой технологии. 
ISA RISC-V [основана на идеях компьютерной архитектуры, которым уже не менее 40 лет](https://riscv.org/technical/specifications/risc-v-genealogy/). 
Реализации процессоров RISC - в том числе и основанные на других открытых стандартах ISA - широко доступны у различных производителей по всему миру.

Всемирный интерес к RISC-V вызван не тем, что это новая замечательная технология производства микросхем. 
Интерес вызван тем, что это общий свободный и открытый стандарт, на который можно переносить программное обеспечение, 
и который позволяет любому свободно разрабатывать собственное оборудование для работы программного обеспечения. 
RISC-V International не управляет и не делает доступными какие-либо реализации RISC-V с открытым исходным кодом, только стандартные спецификации. 
Программное обеспечение RISC-V управляется соответствующими проектами программного обеспечения с открытым исходным кодом.

Также смотрите оригинальную историческую статью под названием [*"Генеалогия RISC-V"*](https://riscv.org/technical/specifications/risc-v-genealogy/) Чена и Паттерсона.

## Влияние DARPA
После изобретения RISC-V многие проекты использовали его, включая исследовательские программы, финансируемые [Агентством перспективных оборонных 
исследовательских проектов](https://www.darpa.mil/work-with-us/for-universities) (DARPA), во многих местах и во многих компаниях. 
Стандарты с открытым исходным кодом обеспечивают большие преимущества для американских налогоплательщиков, 
снижая стоимость разработки передовых военных систем, а также повышают безопасность, позволяя правительству создавать свои собственные 
доверенные реализации по низкой цене. Обратите внимание, что несколько десятилетий назад ВВС США разработали открытый стандарт [MIL-STD-1750 
16-разрядного процессора ISA](https://en.wikipedia.org/wiki/MIL-STD-1750A) для военных приложений по тем же причинам.

Лаборатория UC Berkeley [ASPIRE Lab](https://aspire.eecs.berkeley.edu/) сменила Par Lab, и ее возглавлял Крсте Асанович. 
Она просуществовала с 2013 по 2018 год и привела к созданию нескольких микропроцессоров, совместимых с RISC-V. 
Она получала финансирование от DARPA, а также от многих компаний. Финансирование DARPA было
[финансированием фундаментальных исследований (категория 6.1)](https://www.rand.org/content/dam/rand/pubs/monograph_reports/MR1194/MR1194.appb.pdf).

Финансирование фундаментальных исследований в университетах в основном предназначено для неограниченных исследований с разрешением публично 
распространять результаты. Этот контракт является стандартной моделью федеральных грантов США для университетов и позволяет публиковать результаты 
финансируемой работы в открытой литературе и делать их доступными для широкой общественности во всем мире. 
Правительство сохраняет права на использование любых технологий, разработанных в ходе исследования, но, если это не оговорено особо, 
не ограничивает эти технологии.

Смежная программа DARPA по фотонике существовала до RISC-V и финансировала исследования в MIT в 2006 году. 
Исследование поддерживало разработку интегрированной кремниевой фотоники. Более поздние этапы финансирования в MIT и Беркли 
были использованы для создания прототипов чипов, которые включали ядра RISC-V в качестве инфраструктуры для демонстрации фотонных связей.

Лаборатория ASPIRE Lab финансировалась программой DARPA Power Efficiency Revolution for Embedded Computing Technologies (PERFECT). 
Целью программы была разработка революционных подходов, а также технологий и методов, обеспечивающих энергоэффективность, 
необходимую для встраиваемых вычислительных систем. Исследователи использовали системы на базе RISC-V для демонстрации идей этой программы.

Во всех этих финансируемых проектах спецификация RISC-V ISA и ядра RISC-V с открытым исходным кодом не являлись результатом контракта. 
RISC-V была просто инфраструктурой, отдельно разработанной для поддержки финансируемых исследований.

Хотя DARPA не финансировала первоначальное определение RISC-V ISA, ее финансирование сыграло значительную роль в его последующем развитии. 
В связанных статьях о [машине для голосования SSITH](https://abopen.com/news/darpa-takes-risc-v-ssith-voting-machine-prototype-to-def-con-2019/) 
и презентации Линтона Салмона для [Министерства обороны США](https://riscv.org/wp-content/uploads/2017/12/Wed-1042-RISCV-Open-Source-LintonSalmon.pdf) 
подробно описаны некоторые из областей, где исследования DARPA продолжают поддерживать RISC-V.

DARPA финансирует большой набор программ, связанных с аппаратными технологиями с открытым исходным кодом. 
RISC-V International никогда не получала финансирования от DARPA, а также не стремилась получить финансирование от какого-либо правительства.

## Побочный квест: Имя RISC-V
Как RISC-V получила свое название? Часть RISC достаточно очевидна, но почему она имеет номер 5, и почему это обозначено римской цифрой? 
Ответ кроется в сноске во введении к самой спецификации ISA:

Название RISC-V было выбрано, чтобы представить пятый крупный проект RISC ISA от UC Berkeley 
(первые четыре были RISC-I [15], RISC-II [8], SOAR [21] и SPUR [11]). 
Мы также использовали римскую цифру "V" для обозначения "вариаций" и "векторов", поскольку поддержка различных архитектурных исследований, 
включая параллельные ускорители данных, является явной целью разработки ISA.
